<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>Marbles level editor</title>
    <link rel="stylesheet" type="text/css" href="level-editor.css"/>
    <script src="level-editor.js"></script>
  </head>
  <body>
    <div id="main-ui">
      <div id="left-sidebar">
        <div class="sidebar-window">
          <header>add</header>
          <menu id="add-list">
            <button title="Add Box" id="btn-add-box">
              <svg width="64" height="64">
                <rect x="8" y="16" height="36" width="48"/>
              </svg>
            </button>
            <button title="Add Circle" id="btn-add-circle">
              <svg width="64" height="64">
                <circle cx="31.5" cy="31.5" r="22"/>
              </svg>
            </button>
            <button title="Add Cradle" id="btn-add-cradle">
              <svg width="64" height="64">
                <polyline points="8,16 8,48 52,48 52,16"/>
              </svg>
            </button>
            <button title="Add Polygon" id="btn-add-polygon">
              <svg width="64" height="64">
                <polygon points="8,32 24,16 48,8 56,40 48,56 16,48"/>
              </svg>
            </button>
            <button title="Add OpenPath" id="btn-add-open-path">
              <svg width="64" height="64">
                <polyline points="16,8 8,48 32,16 24,36 42,24 52,52"/>
              </svg>
            </button>
            <button title="Add Goal" id="btn-add-goal">
              <svg width="64" height="64">
                <rect x="8" y="20" height="24" width="48"/>
                <rect class="filled" x="8" y="20" height="12" width="12"/>
                <rect class="filled" x="32" y="20" height="12" width="12"/>
                <rect class="filled" x="20" y="32" height="12" width="12"/>
                <rect class="filled" x="44" y="32" height="12" width="12"/>
              </svg>
            </button>
          </menu>
        </div>
      </div>
      <div id="middle">
        <menu id="top-toolbar">
          <button id="btn-new" class="toolbar-button"
                  onclick="actions.new()"
                  title="New Level">
            <svg width="16" height="16"><use href="./new.svg#icon"/></svg>
          </button>
          <button id="btn-open" class="toolbar-button"
                  onclick="actions.open()"
                  title="Open">
            <svg width="16" height="16"><use href="./open.svg#icon"/></svg>
          </button>
          <button id="btn-download" class="toolbar-button"
                  onclick="actions.download()"
                  title="Download">
            <svg width="16" height="16"><use href="./save.svg#icon"/></svg>
          </button>
          <button id="btn-undo" class="toolbar-button"
                  onclick="actions.undo()"
                  title="Undo">
            <svg width="16" height="16"><use href="./undo.svg#icon"/></svg>
          </button>
          <button id="btn-redo" class="toolbar-button"
                  onclick="actions.redo()"
                  title="Redo">
            <svg width="16" height="16">
              <g transform="scale(-1,1) translate(-16,0)">
                <use href="./undo.svg#icon"/>
              </g>
            </svg>
          </button>
        </menu>
        <main id="level-scene">

          <div id="first-page">

            <button class="first-page-action" onclick="actions.new()">
              <svg width="96" height="96">
                <g transform="scale(6)"><use href="./new.svg#icon"/></g>
              </svg>
              Create New Level
            </button>

            <button class="first-page-action" onclick="actions.open()">
              <svg width="96" height="96">
                <g transform="scale(6)"><use href="./open.svg#icon"/></g>
              </svg>
              Open Existing Level
            </button>

          </div>

        </main>
        <div id="status-bar"><p id="status-msg"></p></div>
      </div>
      <div id="right-sidebar">
        <div class="sidebar-window">
          <header>objects</header>
          <ul id="object-list">
          </ul>
          <template id="object-li-template">
              <li>
                <p></p>
                <button class="list-button delete-button"
                        title="Delete">
                    <svg width="16" height="16"><use href="./delete.svg#icon"/></svg>
                </button>
              </li>
          </template>
        </div>
        <div class="sidebar-window">
          <header>properties</header>
          <div id="properties-table-wrapper"><!-- cursed -->
            <table id="properties-table">
            </table>
          </div>
          <template id="property-row-template">
              <tr><th></th><td><input type="text"></td></tr>
          </template>
          <template id="add-node-row-template">
            <tr><td></td><td><button class="list-button button-with-text">
              <svg width="16" height="16"><use href="./add.svg#icon"/></svg>
              Add Node
            </button></td></tr>
          </template>
        </div>
      </div>
    </div>
    <div id="msgbox" class="modal hidden-modal">
      <dialog class="modal-window">
        <p></p>
        <div class="modal-window-buttons">
        </div>
      </dialog>
    </div>
    <div id="file-open-window" class="modal hidden-modal">
      <dialog class="modal-window">
        <div>
          <p>Please select a level XML file</p>
          <p><input type="file" accept=".xml,application/xml,text/xml"></p>
        </div>
        <div class="modal-window-buttons">
          <button>Cancel</button>
        </div>
      </dialog>
    </div>
  </body>
</html>